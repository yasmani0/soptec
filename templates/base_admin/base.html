{% load staticfiles %}
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Soptec - Admin</title>
  <!-- Tell the browser to be responsive to screen width -->
  <link rel="icon" href="../../static/soptec1.ico" type="image/x-icon">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.5 -->
  <!-- <link rel="stylesheet" href="{% static 'style_admin/css/bootstrap.min.css' %} "> -->
  <link href="{% static 'style_users/bootstrap/bootstrap.min.css' %}" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{% static 'style_admin/css/font-awesome.css' %}">
  <!-- Theme style -->
  <link rel="stylesheet" href="{% static 'style_admin/css/AdminLTE.min.css' %}">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
     folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="{% static 'style_admin/css/_all-skins.min.css' %}">
  <!-- <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
     <link rel="shortcut icon" href="img/favicon.ico"> -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/dataTables.bootstrap4.min.css">
  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"> -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
    integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">

</head>

<body class="hold-transition skin-blue sidebar-mini">
  <div class="wrapper">

    <header class="main-header">

      <!-- Logo -->
      <a href="{% url 'Admin' %}" class="logo">
        <!-- mini logo for sidebar mini 50x50 pixels -->
        <span class="logo-mini"><b>S</b>PC</span>
        <!-- logo for regular state and mobile devices -->
        <span class="logo-lg d-block d-md-none"><b><img src="{% static 'logospt.png' %}" alt="" 
          style="position: relative; top: -25px ;width: 250px;
        height: 100px;
        object-fit: contain;"></b></span>
        <span class="logo-lg d-none d-md-block"><b><img src="{% static 'logospt.png' %}" alt="" 
          style="position: relative; top: -25px; left: -25px ;width: 250px;
        height: 100px;
        object-fit: contain;"></b></span>
      </a>

      <!-- Header Navbar: style can be found in header.less -->
      <nav class="navbar navbar-static-top" role="navigation">
        <!-- Sidebar toggle button-->
        <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
          <i class="fas fa-bars"></i>
          <span class="sr-only" style="text-align: center;">Navegación</span>
        </a>
        <!-- Navbar Right Menu -->
        <div class="navbar-custom-menu">
          <ul class="nav navbar-nav">
            <!-- Messages: style can be found in dropdown.less-->

            <!-- User Account: style can be found in dropdown.less -->
            <li class="dropdown user user-menu">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <img src="{%static 'style_admin/img/muser2-160x160.jpg' %}" class="user-image" alt="User Image">
                <span class="hidden-xs">{{user.first_name}}</span>
              </a>

              <ul class="dropdown-menu">
                <!-- User image -->
                <li class="user-header">
                  <img src="{%static 'style_admin/img/muser2-160x160.jpg' %}" class="img-circle" alt="User Image"
                    style="border-radius:50%">

                  <p>
                    {{user.first_name}} - Administrador
                  </p>
                </li>

                <!-- Menu Footer-->
                <li class="user-footer">
                  <div class="pull-right">
                    <a href="{% url 'usuario_salir' %}" class="btn btn-default btn-flat">Salir</a>
                  </div>
                  <div class="pull-left">
                    <a href="#" class="btn btn-default btn-flat" data-toggle="modal"
                      data-target="#ModalPerfil">Perfil</a>
                  </div>
                </li>
              </ul>
            </li>

          </ul>
        </div>

      </nav>
    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar">
      <!-- sidebar: style can be found in sidebar.less -->
      <section class="sidebar">
        <!-- Sidebar user panel -->
        <br class="d-block d-md-none">
        <div class="user-panel">
          <div class="pull-left image">
            <img src="{%static 'style_admin/img/muser2-160x160.jpg' %}" style="border-radius:50%" class="img-circle"
              alt="User Image">
          </div>
          <div class="pull-left info">
            <p>Administrador</p>
            <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
          </div>
        </div>

        <!-- sidebar menu: : style can be found in sidebar.less -->
        {% block slider %}
        <ul class="sidebar-menu">
          <li class="header">Navegación</li>

          <li class="treeview active">
            <a href="#">
              <i class="fas fa-home"></i> <span>Acceso</span>
              <i class="fa fa-angle-left pull-right"></i>
            </a>
            <ul class="treeview-menu">
              <li class="active"><a href="{% url 'Admin' %}"><i class="fa fa-angle-right "></i> Inicio</a></li>
              <li><a href="{% url 'Users' %}"><i class="fa fa-angle-right"></i> Usuarios</a></li>

            </ul>
          </li>

          <li class="treeview  ">
            <a href="#">
              <i class="fa fa-laptop"></i>
              <span>Almacén</span>
              <i class="fas fa-angle-left pull-right"></i>
            </a>
            <ul class="treeview-menu activate">
              <li><a href="{% url 'Categoria' %}"><i class="fa fa-angle-right"></i>
                  Categorias</a></li>
              <li><a href="{% url 'Marca' %}"><i class="fa fa-angle-right"></i> Marca</a></li>
              <li><a href="{% url 'Producto' %}"><i class="fa fa-angle-right"></i> Productos</a></li>
            </ul>
          </li>

          <li class="treeview">
            <a href="#">
              <i class="fa fa-truck"></i>
              <span>Pedidos</span>
              <i class="fa fa-angle-left pull-right"></i>
            </a>
            <ul class="treeview-menu">
              <li><a href="{% url 'Pedidos' %}"><i class="fa fa-angle-right"></i> Pendientes</a>
              </li>
              <li><a href="{% url 'Pedido_Completado' %}"><i class="fa fa-angle-right"></i> Completados</a></li>
              <li><a href="{% url 'Pedido_Cancelado' %}"><i class="fa fa-angle-right"></i> Cancelados</a></li>
            </ul>
          </li>
          <!-- 

          <li>
            <a href="#">
              <i class="fa fa-plus-square"></i> <span>Ayuda</span>
              <small class="label pull-right bg-red">PDF</small>
            </a>
          </li> -->


        </ul>
        {% endblock %}
      </section>
      <!-- /.sidebar -->
    </aside>





    <!--Contenido-->
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

      <!-- Main content -->
      <section class="content">

        <div class="row">
          <div class="col-md-12">
            <br class="d-block d-md-none">
            <div class="box">
              <div class="box-header with-border">
                <h3 class="box-title"> {% block titlead %}Resumen general {% endblock %}</h3>
                <div class="box-tools pull-right">
                  <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>

                  <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
              </div>
              <!-- /.box-header -->
              <div class="box-body">
                <div class="row">
                  <div class="col-md-12">
                    <!--Contenido-->
                    {% block content %}
                    <div class="row">
                      <div class="col-lg-3 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-green">
                          <div class="inner">
                            <h3>{{pedidoC}}</h3>

                            <p>Pedidos compretados</p>
                          </div>
                          <div class="icon">
                            <i class="fas fa-check"></i>
                          </div>
                          <a href="{% url 'Pedido_Completado' %}" class="small-box-footer">Más información <i
                              class="fas fa-arrow-circle-right"></i></a>
                        </div>
                      </div>
                      <!-- ./col -->
                      <div class="col-lg-3 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-aqua">
                          <div class="inner">
                            <h3>{{pedidoP}}</h3>

                            <p>Pedidos pendientes</p>
                          </div>
                          <div class="icon">
                            <i class="fas fa-info-circle"></i>
                          </div>
                          <a href="{% url 'Pedidos' %}" class="small-box-footer">Más información <i
                              class="fas fa-arrow-circle-right"></i></a>
                        </div>
                      </div>
                      <!-- ./col -->
                      <div class="col-lg-3 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-red">
                          <div class="inner">
                            <h3>{{pedidoCan}}</h3>

                            <p>Pedidos cancelados</p>
                          </div>
                          <div class="icon">
                            <i class="fas fa-times"></i>
                          </div>
                          <a href="{% url 'Pedido_Cancelado' %}" class="small-box-footer">Más información <i
                              class="fas fa-arrow-circle-right"></i></a>
                        </div>
                      </div>
                      <!-- ./col -->
                      <div class="col-lg-3 col-xs-6">
                        <!-- small box -->
                        <div class="small-box bg-yellow">
                          <div class="inner">
                            <h3>{{usuariosReg}}</h3>

                            <p>Usuarios registrados</p>
                          </div>
                          <div class="icon">
                            <i class="fas fa-user"></i>
                          </div>
                          <a href="{% url 'Users' %}" class="small-box-footer">Más información <i
                              class="fas fa-arrow-circle-right"></i></a>
                        </div>
                      </div>
                      <!-- ./col -->
                    </div>

                  
                    {% endblock %}
                    <!--Fin Contenido-->
                  </div>
                </div>

              </div>
            </div><!-- /.row -->
            <!-- aqui va -->
          <!-- inicio -->
          {% block contenidograficas %}
          <!-- operaciones recientes -->
          <div class="row">
            <div class="col-md-12">
              <div class="box">
                <div class="box-header with-border">
                  <h3 class="box-title">Operaciones recientes</h3>
    
                  <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                    </button>
                
                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                  </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  <div class="row">
                    <div class="col-12">
                      <div class="table-responsive">
                        <table class="table table-striped" id="tablaoperacion">
                            <thead>
                                <tr>
                                    <th style="text-align: center;"> # </th>
                                    <th style="text-align: center;">Fecha</th>
                                    <th style="text-align: center;">Cliente</th>
                                    <th style="text-align: center;">Tipo Envio</th>
                                    <th style="text-align: center;">Total</th>
                                    <th style="text-align: center;">Estado</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                {% if operacionesRec %}
                                <!---->
                                {% for p in operacionesRec %}
                                <!---->
                                <tr>
                                    <th scope="row" style="text-align: center;">{{forloop.counter}}</th>
                                    <td style="text-align: center;">
                                      {{p.fecha_pedido|date:"Y-m-d"}}
                                    </td>
                                    <td style="text-align: center;">
                                        <b
                                            style="color: rgb(43, 182, 50); text-transform: capitalize;">{{p.cliente.id_cliente}}</b>
                                    </td>
                                    {% if p.tipo_envio == '1' %}
                                    <td scope="row" style="text-align: center;">
                                        <i class="fas fa-laptop-house fa-2x"></i>
                                        <br>
                                        <span>Recibir</span>
                                    </td>
        
                                    {% else %}
                                    {% if p.tipo_envio == '2' %}
                                    <td scope="row" style="text-align: center;">
                                        <i class="fas fa-dolly fa-2x"></i>
                                        <br>
                                        <span>Entregar</span>
                                    </td>
                                    {% else %}
                                    {% endif %}
                                    {% endif %}
        
                                    {% if p.tipo_envio == '1' %}
                                    <td style="text-align: center;">
                                        ${{p.totalPagar|floatformat:2}}
                                    </td>
                                    {% else %}
                                    {% if p.tipo_envio == '2' %}
                                    <td style="text-align: center;">
                                        ${{p.totalf|floatformat:2}}
                                    </td>
                                    {% else %}
                                    {% endif %}
                                    {% endif %}

                                    <td style="text-align: center;">
                                        {% if p.disponibilidad == '1' %}
                                        <b style="color: rgb(43, 182, 50);">Aceptado</b>
                                        {% else %}
                                        {% if p.disponibilidad == '0' %}
                                        <b style="color: rgb(236, 120, 43);">Pendiente</b>
                                        {% else %}
                                        <b style="color: rgb(236, 43, 43);">Cancelado</b>
                                        {% endif %}
                                        {% endif %}
                                    </td>
        
        
                                </tr>
                                {% endfor %}
                                <!---->
                                {% else %}
                                <!---->
                                <tr>
                                    <div class="alert alert-success" role="alert">
                                        Aún no tiene ninguna oparación reciente
                                    </div>
                                </tr>
        
                                {% endif %}
                            </tbody>
                        </table>

                    </div>
                  
                      
                  </div>
                  
                </div>
               </div>
               
                <!-- /.box-footer -->
              </div>
              <!-- /.box -->
            </div>
           
          </div>

          <!-- graficar -->
          <div class="row">
            <div class="col-md-12">
              <div class="box">
                <div class="box-header with-border">
                  <h3 class="box-title">Pedidos</h3>
    
                  <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                    </button>
                
                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                  </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  <div class="row">
                    <div class="col-12">
                      <!-- <div class="card"> -->
                        <div class="form-group">
                            <br class="d-block d-md-none">
                            <br class="d-block d-md-none">
                            <br class="d-block d-md-none">
                            <h5 class="pt-2" id="textopedido" style="font-size: 16px;">Pedidos completados</h5>
              
                            <select class="form-control filtros" id="selecciongrafica" name="selecciongrafica" style="width: 210px; position: absolute; top: 5px; right: 18px;">
                                <option value="1">Pedidos completados </option>
                                <option value="2">Pedidos pendientes</option>
                                <option value="3">Pedidos cancelados</option>
                            </select>
                        </div>
                          <!-- <div class="card-body"> -->
                              <div class="row">
                                  <!-- pedidos completados -->
                                  <div class="col-12 my-3 text-center" id="grafica_completados">
                                    <div class="alert alert-secondary" role="alert" id="mensajecompletano" style="display: none;">
                                      No tiene ningun pedido completado!
                                    </div>
                                      <p id="textomensajecompletado" style="display: none;"">Pedidos por mes</p>
                                      <canvas id="myChart" ></canvas>
                                  </div>
                                  <!-- pedidos pendiente -->
                                  <div class="col-12 my-3 text-center" id="grafica_pendientes" style="display: none;">
                                    <div class="alert alert-secondary" role="alert" id="mensajependiente" style="display: none;">
                                      No tiene ningun pedido pendiente!
                                    </div>
                                      <p id="textomensajependiente" style="display: none;">Pedidos por mes</p>
                                      <canvas id="myChart1" ></canvas>
                                  </div>
                                  <!-- pedidos cancelados -->
                                  <div class="col-12 my-3 text-center" id="grafica_cancelados" style="display: none;">
                                    <div class="alert alert-secondary" role="alert" id="mensajecancelado" style="display: none;">
                                      No tiene ningun pedido cancelado!
                                    </div>
                                      <p id="textomensajecancelado" style="display: none;">Pedidos por mes</p>
                                      <canvas id="myChart2" ></canvas>
                                  </div>
              
                              </div>
                          <!-- </div> -->
                      <!-- </div> -->
                      
                        
                    </div>
                  
                      
                  </div>
                  
                </div>
               </div>
               
                <!-- /.box-footer -->
              </div>
              <!-- /.box -->
            </div>
           
          </div>
          <!-- fingraficar -->

          {%endblock%}
          <!-- fin -->
        </div><!-- /.box -->
    </div><!-- /.col -->
  </div><!-- /.row -->

  

  </section><!-- /.content -->
  </div><!-- /.content-wrapper -->
  <!--Fin-Contenido-->

  <!-- inicio -->
  
<!-- fin -->
  

  {% include 'base_admin/cuenta.html' %}
  {% include 'datoscuenta/index.html' %}

  <footer class="main-footer">

    <strong>Copyright &copy; 2021-2022 <a href="">Soptec Pc</a>.</strong>
  </footer>


  <!-- jQuery 2.1.4 -->
  <script src="{% static 'style_admin/js/jQuery-2.1.4.min.js' %}"></script>
  <!-- Bootstrap 3.3.5 -->
  <!-- <script src="{% static 'style_admin/js/bootstrap.min.js' %}"></script> -->
  <script src="{% static 'style_users/bootstrap/bootstrap.bundle.min.js' %}"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- AdminLTE App -->
  <script src="{% static 'style_admin/js/app.min.js' %}"></script>

  <!-- Datatable -->
  <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js"></script>

  <!-- funcionalidades -->
  <script>
    $(document).ready(function () {
      $("#btnMostrarModalCuenta").click(function () {
        $("#ModalPerfil").modal('hide')
        $("#ModalCuenta").modal('show')
      })
      $("#btnMostrarAgregarCuenta").click(function () {
        $("#ModalCuenta").modal('hide')
        $("#ModalCuentaCreate").modal('show')
      })
      $("#btnMostrarDNCuenta").click(function () {
        $("#ModalCuentaCreate").modal('hide')
        $("#ModalCuenta").modal('show')
      })
      // $("#cerrarUpdateC").click(function () {
      //   $("#ModalCuentaID").modal('hide')
      // })
    })
  </script>

  <script>
      // solo letras
      function sololetras(e){
        
        key=e.keycode || e.which;  
        teclado=String.fromCharCode(key).toLowerCase();   
        letras = " abcdefghijklmnñopqrstuvwxyz";
        especiales = "8-37-38-46-164"; 

        teclado_especial= false;

        for(let i in especiales){
          if(key==especiales[i]){
            teclado_especial=true;
            break;
          }
        }

        if(letras.indexOf(teclado)==-1 && !teclado_especial){
          return false;
        }
      
      }

  </script>


  {% block extrajs %}
  {% if messages %}
  {% for m in messages %}
  <script>
    if ('{{m}}' == 'Cuenta o numero de ya existente, ingrese otra cuenta') {
      Swal.fire({
        title: 'Error',
        text: '{{m}}',
        icon: 'error',
        confirmButtonText: 'Aceptar'
      })

    } else {
      Swal.fire({
        title: 'Felicitaciones',
        text: '{{m}}',
        icon: 'success',
        confirmButtonText: 'Aceptar'
      })

    }


  </script>
  {% endfor %}
  {% endif %}

  {% endblock %}


  {% block scriptadd %}
  {% endblock %}

  {% block adicionaljs %}
  <script src="{% static 'style_admin/funcionalidades/operaciones.js' %}"></script>
    <script src="{% static 'graficas/chartjs/charts.js' %}"></script>
  
    <script>
    const meses = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre']
    const pedidosMes = [50,60,50,65,75,100,25,36,35,78,15,36];
    let textomensajecompletado = document.getElementById('textomensajecompletado')
    let textomensajepediente = document.getElementById('textomensajepediente')
    let textomensajecancelado = document.getElementById('textomensajecancelado')

    let mensajecompletado = document.getElementById('mensajecompletado')
    let mensajepediente = document.getElementById('mensajepediente')
    let mensajecancelado = document.getElementById('mensajecancelado')

    arrayhaypedidos= [0,0,0,0,0,0,0,0,0,0,0,0]

    

    
    
    // grafica pedidos completados
    // if(JSON.stringify({{pedido_completado_grafica_data|safe}}) == JSON.stringify(arrayhaypedidos)){
    //     textomensajecompletado.style.display='none';
    //     mensajecompletado.style.display='block';
    // }else{
    //     textomensajecompletado.style.display='block';
    //     mensajecompletado.style.display='none';
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: meses,
            datasets: [{
                label: ' Número de pedidos por meses',
                data: {{pedido_completado_grafica_data|safe}},
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });
    // }

    // grafica pedidos pendientes
    // if(JSON.stringify({{pedido_pendiente_grafica_data|safe}}) == JSON.stringify(arrayhaypedidos)){
    //     textomensajepediente.style.display='none';
    //     mensajepediente.style.display='block';
    // }else{
    //     textomensajepediente.style.display='block';
    //     mensajepediente.style.display='none';
    var ctx1 = document.getElementById('myChart1').getContext('2d');
    var myChart1 = new Chart(ctx1, {
        type: 'bar',
        data: {
            labels: meses,
            datasets: [{
                label: ' Número de pedidos por meses',
                data: {{pedido_pendiente_grafica_data|safe}},
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)',
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });
    // }
    
   
    // if(JSON.stringify({{pedido_cancelado_grafica_data|safe}}) == JSON.stringify(arrayhaypedidos)){
    //     textomensajecancelado.style.display='none';
    //     mensajecancelado.style.display='block';
    // }else{
    // grafica pedidos cancelados
      textomensajecancelado.style.display='block';
      mensajecancelado.style.display='none';
      var ctx2 = document.getElementById('myChart2').getContext('2d');
      var myChart2 = new Chart(ctx2, {
          type: 'bar',
          data: {
              labels: meses,
              datasets: [{
                  label: ' Número de pedidos por meses',
                  data: {{pedido_cancelado_grafica_data|safe}},
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)',
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255, 99, 132, 1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)',
                      'rgba(255, 99, 132, 1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              }]
          },
              options: {
                  scales: {
                      yAxes: [{
                          ticks: {
                              beginAtZero: true
                          }
                      }]
                  }
              }
          });
    // }

    </script>

    <script>

      let seleccion = document.getElementById('selecciongrafica')
      let completados = document.getElementById('grafica_completados')
      let pendientes = document.getElementById('grafica_pendientes')
      let cancelados = document.getElementById('grafica_cancelados')
      let texto = document.getElementById('textopedido')

      seleccion.addEventListener('change', (event) => {
        if (event.target.value == 1) {
          completados.style.display = 'block';
          pendientes.style.display = 'none';
          cancelados.style.display = 'none';
          texto.textContent='Pedidos completados';

        }else  if (event.target.value == 2) {

          completados.style.display = 'none';
          pendientes.style.display = 'block';
          cancelados.style.display = 'none';
          texto.textContent='Pedidos pendientes';

        }else if (event.target.value == 3) {

          completados.style.display = 'none';
          pendientes.style.display = 'none';
          cancelados.style.display = 'block';
          texto.textContent='Pedidos cancelados';

        }
      })

    </script>
  {%endblock%}

</body>

</html>